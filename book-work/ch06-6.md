<!-- 도커 허브 등록 및 로그인 -->
<!-- 이미지는 어디서 내려받는 걸까? -->
# 직접 만든 이미지도 도커 허브에 올릴 수 있으며, 비공개로 사용하는 도커 허브 같은 장소도 만들 수 있다.

<!-- 도커 허브와 도커 레지스트리 -->
# 이미지를 배포하는 장소를 '도커 레지스트리'라고 한다. 일반에 공개되어 있든 비공개이든 상관없이 이미지가 배포되는 곳은 모두 도커 레지스트리다.

# '도커 허브'는 도커 제작사에서 운영하는 공식 도커 레지스트리를 말한다. 아파치나 MySQL, 우분투의 공식 이미지 모두 도커 허브에 참여해 도커 허브에서 이미지를 배포하낟. 우리가 run 커맨드를 사용할 때 내려받는 이미지는 이렇게 제공된다.

# 도커 레지스트리는 도커 제작사 외의 다른 기업이나 개인도 운영할 수 있으므로 전 세계적으로 많은 수가 있다.

<!-- 레지스트리(registry)와 리포지토리(repository) -->
# 레지스트리(등록장부) 와 리포지토리(창고)는 언뜻 비슷한 것으로 착각하기 쉽지만 다른 개념이다.

# 레지스트리는 이미지를 배포하는 장소다. 반면 리포지토리는 레지스트리를 구성하는 단위이다.
# 예를 들어, zoozoo라는 회사에서 '냥파스'와 '멍SQL' 라는 소프트웨어를 만든다고 하자. 레지스트리는 회사나 부서 단위로 만들지만 리포지토리는 소프트웨어를 단위로 한다.

# 도커 허브에서는 리포지토리가 각각 ID를 갖게 되어있다.
# 따라서 도커 허브는 각각의 회사나 개인이 가진 레지스트리가 여럿 모인형태가 된다.

<!-- 태그와 이미지 업로드 -->
# 도커 허브에 공개로 업로드 하든, 비공개 리포지토리에 업로드하든 이미지를 업로드하려면 이미지에 태그를 부여해야한다.

<!-- 이미지 이름과 태그 -->
# 로컬 컴퓨터에서는 nyapa000ex22 처럼 대충 붙였던 이름을 'zoozoo.coomm(레지스트리주소)/nyapacchi(리포지토리 이름):13(버전)'처럼 레지스트리의 주소와 버전 표기를 추가해 정식 명칭으로 만든다.

# 태그는 '레지스트리_주소(도커 허브는 ID)/리포지토리_이름:버전'의 형식을 띈다. 버전은 생략할 수 있지만 나중이 되면 다루기 복잡해질 수 있기 때문에 버전을 따로 관리하고 싶다면 붙이는 것이 좋다.

# 비공개 레지스트리의 태그 명명 예시
\# 자신의 PC에 만든 레지스트리 리포지토리 이름은 nyapacchi , ver13
-- localhost:5000/nyapacchi:13

\# 레지스트리 도메인은 zoozoo.coomm, 리포지토리 이름은 nyapacchi, ver13
-- zoozoo.coomm/nyapacchi:13

# 도커 허브의 태그 명명 예시
\# 도커 허브 ID는 zoozooousagi 리포지토리 이름은 nyapacchi, ver13
-- zoozoousagi/nyapacchi:13

<!-- 이미지에 태그를 부여해 복제하는 커맨드 : docker tag (docker image tag) -->
# 명령어를 실행한 후 image ls 커맨드로 이미지 목록을 확인해 보면 원래 이름의 이미지와 태그가 부여된 이미지가 둘 다 존재한다.
# 이들의 이미지 ID는 동일하지만 별개의 이미지로 취급되므로 이미지를 삭제할 때는 두 가지 모두 삭제해야한다.

# 이미지에 태그를 부여해 복제하는 명령어의 예
docker tag 원래_이미지_이름 레지스트리_주소/리포지토리_이름:버전

# 원래 이미지 이름이 apa000ex22인 이미지에 레지스트리 주소는 zoozoo.coomm, 리포지토리 이름은 nyapacchi, 버전은 13으로 태그를 부여
docker tag apa000ex22 zoozoo.coomm/nyapacchi:13

<!-- 이미지를 업로드하는 커맨드 : docker push (docker image push) -->
# docker push 커맨드는 이미지를 업로드하는 커맨드이다.
# 태그는 '레지스트리 주소/리포지토리 이름:버전'과 같이 길어서 알아보기 힘지만 그 자체로 하나의 이름이다.
# 또 어느 레지스트리에 업로드할지도 태그로 판단한다. 다시말해 도커엔진은 태그에 포함된 레지스트리 주소의 도메인에 있는 레지스트리로 업로드를 시도한다.

# 리포지토리는 처음 업로드할 때는 존재하지 않는다. push 커맨드를 실행하며 만들어 진다.

# 여기서는 생략됐지만 업로드 대상 레지스트리에 따라 로그인을 요구하는 경우도 있다.

# 레지스트리에 업로드하는 명령어의 예
docker push 레지스트리_주소/리포지토리_이름:버전

# EXAMPLE
docker push zoozoo.coomm/nyapacchi:13

<!-- 레지스트리를 만드는 방법 -->
# 개발 회사는 대개 사내용 도커 레지스트리를 만들고 여기에 개발환경 이미지를 올려 배포하는 체계를 갖추고 있을 것이다. 외부 공개를 목적으로 한다면 도커 허브가 가장 이상적이다.

<!-- 비공개 레지스트리를 만드는 방법 -->
# 도커 레지스트리는 간단하게 만들 수 있다.
# 레지스트리용 컨테이너(registry)가 따로 있으므로 이를 사용하면 된다. 다시말해 레지스트리도 도커를 통해 운영할 수 있다.

# 컨테이너를 만들면 사용자는 레지스트리에 로그인한 다음 이미지를 내려받을 곳으로 이 레지스트리를 지정한다. 레지스트리는 포트 5000번을 사용한다.

# 레지스트리를 만드는 명령어의 예
docker run -d -p 5000:5000 registry

<!-- 도커 허브 사용 -->
# 이메일 주소만 있으면 누구든지 도커 허브에 가입할 수 있다.
# 도커 허브 : https://hub.docker.com


