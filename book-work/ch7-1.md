<!-- 도커 컴포즈란? -->
# 시스템 구축과 관련된 명령어를 하나의 텍스트 파일(정의 파일)에 기재해 명령어 한번에 시스템 전체를 실행하고 종료와 폐기까지 한번에 하도록 도와주는 도구가 바로 도커 컴포즈이다.

<!-- 도커 컴포즈의 구조 -->
# 도커 컴포즈는 시스템 구축에 필요한 설정을 YAML 포맷으로 기재한 정의 파일을 이용해 전체 시스템을 일괄 실행(run) 또는 일괄 종료 및 삭제(down) 할 수 있는 도구다.

# 정의 파일에는 컨테이너나 볼륨을 '어떠한 설정으로 만들지'에 대한 항목이 기재돼 있다.
# 작성 내용은 도커 명령어와 비슷하지마 도커 명령어는 아니다.

# up 커맨드는 docker run 커맨드와 비슷하다. 정의 파일에 기재된 내용대로 이미지를 내려받고 컨테이너를 생성 및 실행한다. 
# down 커맨드는 컨테이너와 네트워크를 정지 및 삭제한다. 볼륨과 이미지는 삭제하지 않는다. 
# 컨테이너와 네트워크 삭제 없이 종료만 하고 싶다면 stop커맨드를 사용해야 한다.

<!-- 도커 컴포즈와 Dockerfile 스크립트의 차이점 -->
# 도커 컴포즈는 말하자만 docker run 명령어를 여러개 모아놓은것과 같다. 컨테이너와 주변 환경을 생성한다.
# 네트워크와 볼륨까지 함꼐 만들 수 있다.
# 반면 Dockerfile 스크립트는 이미지를 만들기 위한 것으로 네트워크나 볼륨은 만들 수 없다.

# 이름만으로는 무슨 역할을 하는지 구분하기 어렵다면 '만드는 대상이 다르다'고 기억하면 된다.

<!-- 도커 컴포즈의 설치와 사용법 -->
# 도커 컴포즈를 사용하려면 먼저 설치할 필요가 있다.
# 도커 컴포즈는 도커 엔진과 별개의 소프트웨어 이기 때문이다.

# 하지만 도커 컴포즈의 사용법은 도커 엔진과 큰 차이가 없어 일단 설치하고 나면 별개의 소프트웨어란 점을 신경 쓰지 않아도 될 정도다. 도커 컴포즈로 생성한 커넽이너를 도커 엔진으로 똑같이 관리할 수 있다.
# 커맨드만 다를 뿐 거의 같은 소프트웨어나 마찬가지다.

# 여담으로 윈도나 macOS에서 사용하는 도커 데스크톱은 도커 컴포즈가 함께 설치되기 때문에 따로 설치할 필요가 없다.
# 그러나 리눅스에서는 도커 컴포즈와 파이썬 3 런타임 및 필요도구(python 3, python3-pip 패키지)를 설치해야한다.
# 도커 컴포즈는 파이썬으로 작성된 프로그램이기 때문에 파이썬 런타임이 필요하다

# 파이썬 3를 설치할 때문 apt 명령을 사용하고 , 도커 컴포즈는 pip3 명령을 사용해 설치한다.

# 설치 확인
docker-compose -version

<!-- 도커 컴포즈의 사용법 -->
# 정의 파일의 이름은 미리 정해진 docker-compose.yml 이라는 이름을 사용해야 한다. 파일은 호스트 컴퓨터에 배치되지만 명령어는 똑같이 도커 엔진에 전달되며, 만들어진 컨테이너도 동일하게 도커 엔진 위에서 동작한다.

# 정의 파일은 한 폴더에 하나만 있을 수 있다.
# 그래서 여러 개의 정의 파일을 사용하려면 그 개수만큼 폴더를 만들어야 한다. 컨테이너 생성에 필요한 이미지 파일이나 HTML 파일 역시 컴포즈가 사용할 폴더에 함께 둔다.

<!-- 서비스와 컨테이너 -->
# 도커 컴포즈에서 컨테이너가 모인 것을 '서비스'라고 한다.
# 공식 참조문서에서는 컨테이너와 서비스라는 두 가지 용어가 함께 사용되는데, 그냥 모두 컨테이너로 이해하면 된다.
