<!-- 컨테이너 개조 -->
# 컨테이너 개조하는 방법에는 두가지 방법이 있다. 대부분 이 두가지 방법을 혼용한다.
# 첫번째 방법은 파일 복사와 마운트를 이용한 방법이다.
# 두번째 방법은 컨테이너에서 리눅스 명령어를 실행하는 방법이다. 소프트웨어를 설치하거나 설정을 변경할 수 있다.

<!-- 컨테이너에서 명령어를 실행하려면 셀이 필요하다. -->
# 컨테이너에서 리눅스 명령어를 실행하려면 리눅스에 우리 명령을 전달해주는 프로그램인 SHELL이 필요하다.

# 셀에도 몇가지 종류가 있는데, 대부분의 컨테이너에는 가장 일반적으로 사용되는 셀인 bash 셀이 있다.

# 컨테이너를 아무 설정없이 실행하면 bash가 동작하지 않는 상태로 실행된다. 따라서 bash를 실행해 우리의 명령을 받을 수 있는 상태로 만들어야 한다.

# bash를 실행하는 인자
/bin/bash

# 이 인자는 docker run 또는 docker exec 커맨드와 함께 사용한다.
# docker exec 는 컨테이너 속에서 명령어를 실행하는 커맨드이다. 실행중인 컨테이너에 run 커맨드를 사용할 수는 없으므로 이 방법을 사용한다.
# 이 방법으로 bash 없이도 어느정도 명려응ㄹ 직접 전달할 수는 있다. 하지만 초기 설정이 없어 동작하지 않는 경우도 있어 기본적으로는 셸을 통해 명령을 실행한다.

# bash를 사용한 컨텡니ㅓ 조작이 끝나고 나면 다시 docker start 커맨드로 컨테이너를 재시작해야한다.

# exec 커맨드에 인자를 추가한 예
docker exec [옵션] 컨테이너_이름 /bin/bash

# run 커맨드에 인자를 추가한 예
docker run [옵션] 이미지_이름 /bin/bash

# bash가 실행되면 셸에 입력된 명령은 도커 엔진이 아니라 해당 컨테이너로 전달된다. 명령을 입력받는 대상이 바뀌는 것이다. 따라서 프롬프트도 바뀐다. 도커 엔진과 컨테이너는 말하자만 부모-자식 관계를 가진다.

<!-- 왜 컨테이너에서 bash를 실행하면 아파치 , MySQL 등이 실행되지 않을까? -->
# Example
docker run --name apa000ex23 -it -p 8089:80 httpd /bin/bash  <- 아파치 실행 안됨
# 간단히 설명하면 소프트웨어이기 때문이다. 커넽이너 속에는 '운영체제 비슷한 것'이 들어있으며 아파치는 이 위에서 동작한다.
# bash를 실행하면 bash가 실행되는 대신에 아파치는 실행되지 않는다. bash가 컨테이너를 가로챈것과 같다.
# 이것은 MySQL 같은 다른 소프트웨어의 컨테이너에서도 마찬가지이다.

<!-- 도커 엔진을 통한 명령과 컨테이너 내부에서 실행하는 명령 -->
# 부모에 해당하는 도커 엔진을 통해야 하는 명령은 도커 엔지 자체의 시작 또는 종료 , 네트워크, 디스크 설정 , 실행중인 컨테이너 목록 확인 등 컨테이너 전체에 대한 관리 작업이다.
# 반면 컨테이너 내부에서 실행하는 명령은 컨테이너 속에 새로운 소프트웨어를 추가하거나, 컨테이너 속 소프트웨어의 실행 및 종료 , 설정변경 , 컨테이너의 안과 밖의 파일 복사 및 이동, 삭제작업이다.

# 리눅스에서 크게 나뉜다.

# 레드햇 계열                     아파치 설치 명령어
레드햇 , CentOS 등             - yum install httpd


# 데비안 계열                     아파치 설치 명령어
데비안 , 우분투 , 페도라 등     - apt install apache2

# 알파인 ...



